# ğŸ›¡ï¸ SQL Injection Attack Simulation Lab

æ­¡è¿ä¾†åˆ° SQL Injection æ”»æ“Šæ¨¡æ“¬å¯¦é©—å®¤ï¼ğŸš€ é€™å€‹å°ˆæ¡ˆæ—¨åœ¨æ¨¡æ“¬ä¸€å€‹çœŸå¯¦çš„ç¶²è·¯ç’°å¢ƒï¼Œå…¶ä¸­å¤–éƒ¨æ”»æ“Šè€…é€éè·¯ç”±å™¨ (Router) å°å…§éƒ¨æœå‹™é€²è¡Œæ»²é€æ¸¬è©¦ã€‚

## ğŸŒŸ å°ˆæ¡ˆç°¡ä»‹

æœ¬å¯¦é©—ç’°å¢ƒåŒ…å«ä¸‰å€‹ä¸»è¦å…ƒä»¶ï¼Œæ¨¡æ“¬äº†å¾å¤–ç¶² (Outnet) åˆ°å…§ç¶² (Inet) çš„æ”»æ“Šè·¯å¾‘ã€‚

### ğŸ—ï¸ å…ƒä»¶ä»‹ç´¹

1.  **ğŸ° inet-service (å…§ç¶²æœå‹™)**
    *   **Tech Stack**: Python 3.13, FastAPI, MariaDB
    *   **åŠŸèƒ½**: ä¸€å€‹ç°¡å–®çš„ E-mall API ä¼ºæœå™¨ï¼Œæä¾›å•†å“æœå°‹åŠŸèƒ½ã€‚
    *   **æ¼æ´**: `/search` ç«¯é»å­˜åœ¨ **SQL Injection** æ¼æ´ ğŸ›ã€‚
    *   **è³‡æ–™**: å•Ÿå‹•æ™‚æœƒè‡ªå‹•ç”Ÿæˆ 100+ ç­†æ¨¡æ“¬å•†å“è³‡æ–™ï¼Œä¸¦å°‡ Flag ğŸš© å¯«å…¥è³‡æ–™åº«ã€‚

2.  **ğŸ¥· outnet-client (å¤–ç¶²æ”»æ“Šè€…)**
    *   **Tech Stack**: Python 3.13, uv
    *   **å·¥å…·**: é è£äº†å¼·å¤§çš„æ»²é€æ¸¬è©¦å·¥å…· `sqlmap` ğŸ’‰ å’Œ `dirsearch` ğŸ”ã€‚
    *   **è‡ªå‹•åŒ–**: åŒ…å« `attack.py` è…³æœ¬ï¼Œæœƒè‡ªå‹•åµæ¸¬æœå‹™ç‹€æ…‹ä¸¦åŸ·è¡Œæ”»æ“Šï¼Œå˜—è©¦ç«Šå– Flagã€‚

3.  **ğŸš¦ router (è·¯ç”±å™¨)**
    *   **Base Image**: `nicolaka/netshoot`
    *   **åŠŸèƒ½**: é€£æ¥å…§ç¶²èˆ‡å¤–ç¶²ï¼Œè² è²¬æµé‡è½‰ç™¼ (Port Forwarding)ã€‚
    *   **ç›£æ§**: è‡ªå‹•åŸ·è¡Œ `tcpdump` é€²è¡Œå°åŒ…å´éŒ„ (Packet Capture) ğŸ“¼ï¼Œå°‡æµé‡å„²å­˜ç‚º `.pcap` æª”æ¡ˆï¼Œæ–¹ä¾¿å¾ŒçºŒåˆ†æã€‚

## ğŸ—ºï¸ ç¶²è·¯æ‹“æ’² (Network Topology)

| ç¶²è·¯å€åŸŸ | Subnet | æœå‹™ | IP Address |
| :--- | :--- | :--- | :--- |
| **ğŸ  Inet (å…§ç¶²)** | `192.168.3.0/24` | `inet-service` | `192.168.3.10` |
| | | `router` (å…§ç¶²ä»‹é¢) | `192.168.3.2` |
| **ğŸŒ Outnet (å¤–ç¶²)** | `111.248.120.0/24` | `outnet-client` | `111.248.120.11` |
| | | `router` (å¤–ç¶²ä»‹é¢) | `111.248.120.159` |

> ğŸ’¡ **æ³¨æ„**: `outnet-client` ç„¡æ³•ç›´æ¥å­˜å– `inet-service`ï¼Œå¿…é ˆé€é `router` çš„ Port Forwarding (Port 8000) é€²è¡Œé€£ç·šã€‚

## ğŸš€ å¿«é€Ÿé–‹å§‹ (Quick Start)

### å•Ÿå‹•å¯¦é©—ç’°å¢ƒ

ä½¿ç”¨ Docker Compose ä¸€éµå•Ÿå‹•æ‰€æœ‰æœå‹™ï¼š

```bash
docker compose up --build -d
```

### è§€å¯Ÿæ”»æ“Šéç¨‹

æ”»æ“Šè€…å®¹å™¨ (`outnet-client`) å•Ÿå‹•å¾Œæœƒè‡ªå‹•åŸ·è¡Œæ”»æ“Šè…³æœ¬ã€‚ä½ å¯ä»¥é€éæŸ¥çœ‹ Log ä¾†è§€å¯Ÿæ”»æ“Šé€²åº¦ï¼š

```bash
docker compose logs -f outnet-client
```

### åœæ­¢ç’°å¢ƒ

å¯¦é©—çµæŸå¾Œï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤åœæ­¢ä¸¦ç§»é™¤å®¹å™¨ï¼š

```bash
docker compose down
```

## ğŸš© Flag è³‡è¨Š

*   **æ ¼å¼**: `ISIP{\S}`
*   **ä¾†æº**: å®šç¾©æ–¼ `inet-service` çš„ç’°å¢ƒè®Šæ•¸ `FLAG`ã€‚
*   **å„²å­˜ä½ç½®**: è³‡æ–™åº«ä¸­çš„ `flags` è³‡æ–™è¡¨ã€‚

## ğŸ“‚ æª”æ¡ˆçµæ§‹

*   `inet-service/`: å…§ç¶²æœå‹™åŸå§‹ç¢¼åŠè¨­å®šã€‚
*   `outnet-client/`: æ”»æ“Šè€…è…³æœ¬åŠ Dockerfileã€‚
*   `captures/`: å­˜æ”¾è·¯ç”±å™¨å´éŒ„çš„ `.pcap` å°åŒ…æª”æ¡ˆ ğŸ“ã€‚
*   `docker-compose.yaml`: å®šç¾©æ•´é«”æœå‹™ç·¨æ’èˆ‡ç¶²è·¯è¨­å®šã€‚

---
Happy Hacking! ğŸ’»ğŸ”¥
